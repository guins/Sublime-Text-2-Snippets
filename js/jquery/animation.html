<html>
<head>
	<title></title>
</head>

<style type="text/css">
	#animatecanvas { border:1px solid #000; width:100%; height:100%; }
</style>

<body>

<canvas id="animatecanvas"></canvas>

<script type="text/javascript">

var canvas = document.getElementById("animatecanvas"),
	context = canvas.getContext("2d"),
	currentX = 0,
	currentY = 0,
	distance =20,
	distanceY =60,
	rotation = 10,
	side = 10;

	window.requestAnimFram = (function(callback){
		return window.requestAnimationFrame ||
		window.webkitRequestAnimationFrame ||
		window.mozRequestAnimationFrame ||
		window.oRequestAnimationFrame ||
		window.msRequestAnimationFrame ||
		function(callback) { setTimeout(callback, 1000/60); }
	})();

	console.log(window.requestAnimFram);

	function animate()
	{
		context.clearRect(0,0,canvas.width,canvas.height);

		context.beginPath();
		var rect = context.rect(currentX,currentY,side,side);

		context.fillStyle= "#CC00EE";
		context.fill();

		currentX += distance;
		if(currentX>=canvas.width || currentX<=0) {
			distance = -distance;
			currentX += distance;
		}

		currentY += distanceY;
		if(currentY>=canvas.height || currentY<=0) {
			distanceY = -distanceY;
			currentY += distanceY;
		}

		requestAnimFram(function(){ animate(); });
	}

	window.onload = function()
	{
		animate();
	}

</script>

</body>
</html>